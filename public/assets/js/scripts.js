function handler(e){var s=JSON.parse(e.responseText);alert(s.features[0].indicator)}$(document).ready(function(){$('input[name="client_no"]').keyup(function(){$element=$(this);var e=$(this).val();$.getJSON('<?php print base_url("acesmain/clients/find") ?>',{q:e},function(e){console.log(e),500==e[0].response?($("span#response").html("Client not found.").css("color","#ff0000"),$element.attr("id","inputError")):$("span#response").html("")})}),$pass_field1=$('input[name="accss_pass_field1"]'),$rand_pass="",$btn_access=$('input[name="btn_access"]'),$btn_access.attr("disabled","disabled"),$("a#lnkPasswordGenerator").on("click",function(e){e.preventDefault(),$.ajax({url:"<?php print base_url('acesmain/system/misc/accounts/generate-password') ?>",dataType:"json",beforeSend:function(){$("a#lnkPasswordGenerator").html("Generating...")},complete:function(e){$(".form-group span#generated_password").html('<span style="color:#006633;">Password generated ! | <a id="pssShow" href="#">Show</a></span>'),$pass_field1.val(e.responseText),$rand_pass=e.responseText,$("a#pssShow").click(function(){$(this).remove(),$pass_field1.attr("type","text")})}})}),$('input[name="accss_pass_field2"]').keyup(function(){$val=$(this).val(),$val!=$rand_pass?$(".form-group span#pass2").html("Password do not match.").css("color","red"):($(".form-group span#pass2").html("Password matched.").css("color","green"),$btn_access.removeAttr("disabled"))}),$("form").submit(function(e){e.preventDefault();var s=$(this).serialize();console.log(s),$("input").attr("disabled","disabled"),$.ajax({url:"<?php print base_url('acesmain/system/clients/acess/process') ?>",method:"GET",data:s,beforeSend:function(){$("div#feedback").html("Processing Request...").css("background","blue").css("color","#fff")},success:function(e){$("div#feedback").html("Request has been completed.").css("background","green").css("color","#fff")},error:function(e){$("div#feedback").html("Client has already have an access. Operation aborted.").css("background","red").css("color","#fff"),$("div#feedback").append('<a href="<?php print base_url("acesmain") ?>">Go back to main page.</a>'),$(".form-group").remove(),$("input").remove()}})})});